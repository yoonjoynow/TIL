# 따라하며 배우는 도커와 CI 환경
> 인프런 강의 [따라하며 배우는 도커와 CI 환경](https://www.inflearn.com/course/%EB%94%B0%EB%9D%BC%ED%95%98%EB%A9%B0-%EB%B0%B0%EC%9A%B0%EB%8A%94-%EB%8F%84%EC%BB%A4-ci/dashboard)를 보고 정리한 자료입니다.

# 1. 도커 기본
## 1-1. 도커와 컨테이너의 정의
### 도커란 무엇인가?
도커는 컨테이너를 사용하며 응용 프로그램을 더 쉽게 만들고 배포하고 실행할 수 있도록 설계된 도구이자 컨테이너 기반의 오픈소스 가상화 플랫폼이며 생태계이다.

- 도커를 통해 응용 프로그램을 인프라에서 분리 가능
- 도커를 통해 응용 프로그램을 관리하듯이 인프라 관리 가능

### 컨테이너란 무엇인가?
컨테이너는 응용 프로그램이 한 컴퓨팅 환경에서 다른 컴퓨팅 환경에서 빠르고 안정적으로 실행될 수 있도록 코드와 모든 의존성을 패키징하는 소프트웨어의 표준 단위이다.

<img width="360" alt="스크린샷 2021-10-19 오후 4 59 52" src="https://2.bp.blogspot.com/-7WgG-2vqQXg/Wz2i-jk-yCI/AAAAAAAABbU/nhvE7oRjaL0fmAjnfKgCvmdsPWZMKOQrQCLcBGAs/s1600/run%2Bdocker%2Bcontainer.jpg">

### 컨테이너 이미지란?
컨테이너 이미지란 코드, 런타임, 시스템 도구, 시스템 라이브러리 및 설정과 같이 응용 프로그램을 실행하는데 필요한 모든 것을 포함하는 가볍고 독립적이며 실행 가능한 소프트웨어 패키지이다.

- 컨테이너 이미지는 런타임에 컨테이너로 인스턴스화된다
- 도커의 경우 컨테이너 이미지가 도커 엔진에 의해 실행될 때 도커 컨테이너가 된다.

## 1-2. 도커의 구조
- 도커는 기본적으로 클라이언트 - 서버 패턴을 사용
- 도커 데몬은 도커 컨테이너를 빌드, 실행 및 배포등의 무거운 작업을 담당
- 도커 클라이언트는 도커 데몬과 통신

<img width="700" alt="스크린샷 2021-10-19 오후 4 59 52" src="https://docs.docker.com/engine/images/architecture.svg">

### 도커 데몬 (Docker deamon)
도커 데몬(dockerd)은 도커 API대한 요청을 처리하고 도커 이미지와 컨테이너, 네트워크 및 볼륨과 같은 도커의 객체들을 관리하는 지속적 백그라운드 프로세스이다.

### 도커 클라이언트 (Docker client)
도커 클라이언트는 도커 API에 서비스를 요청하는 주체로, 실제 도커 사용자가 도커를 사용하는 방법이다.

- 도커 사용자는 도커 클라이언트를 통해 dorkerd에 명령을 보낸다
- 도커 명령어는 도커 데몬이 받아서 처리한다
- 도커 클라이언트는 둘 이상의 도커 데몬과 통신할 수 있다

### 도커 레지스트리 (Docker registries)
도커 레지스트리는 도커 이미지를 저장하고 있는 저장소이다.

### 도커 객체 (Docker objects)
도커 객체는 이미지, 컨테이너, 네트워크, 볼륨, 플러그인 등 도커를 구성하는 요소들을 말한다.

### 이미지 (Images)
이미지는 도커 컨테이너를 생성하는 방법이 포함된 읽기 전용 템플릿이다.

### 컨테이너 (Container)
컨테이너는 도커 이미지의 인스턴스이다.
- **docker ps** 명령어를 사용해서 현재 실행중인 인스턴스 목록을 확인할 수 있다

## 1-3. 가상 머신과 도커의 차이점
### 하이퍼 바이저 기반의 가상 머신 구조

<img width="600" alt="스크린샷 2021-10-19 오후 9 33 37" src="https://user-images.githubusercontent.com/80696862/137909940-3ac2a36b-4a06-4ebf-a2b7-3c3f16d67b0d.png">

- **하이퍼 바이저란**?
    - 하이퍼바이저는 호스트 시스템에서 다수의 게스트 OS를 구동할 수 있게 하는 소프트웨어
    - 하드웨어를 가상화하면서 하드웨어와 각 가상 머신 사이에서 동작하는 중간 관리자 역할
    - 일반적인 소프트웨어처럼 호스트 OS 위에서 동작함

#### 하이퍼바이저 기반 VM 특징
- 각 VM은 독립된 가상 하드웨어 자원을 할당받는다
- 각 VM은 서로 논리적으로 구분된 다른 공간이다
- 한 VM 영역에서 에러가 발생하도 나머지 VM 영역에 전파되지 않는다
- 대표적으로 VMware, Virtual Box

### 도커 기술이 왜 탄생되었는가?
1. 기존 가상 머신의 불편함
    - ㅇ

<img width="400" alt="스크린샷 2021-10-19 오후 9 23 20" src="https://user-images.githubusercontent.com/80696862/137908370-98fd8951-df16-4716-a004-1cee2c4be45c.png">

# 2. 도커 클라이언트 명령어

# 3. 도커 이미지 만들기

___
**참고문헌** :
- [따라하며 배우는 도커와 CI 환경](https://www.inflearn.com/course/%EB%94%B0%EB%9D%BC%ED%95%98%EB%A9%B0-%EB%B0%B0%EC%9A%B0%EB%8A%94-%EB%8F%84%EC%BB%A4-ci/dashboard)
- [What is a Container?](https://www.docker.com/resources/what-container)
- [초보를 위한 도커 안내서 - 도커란 무엇인가?](https://subicura.com/2017/01/19/docker-guide-for-beginners-1.html)
- [서버 가상화 기술의 진화: VM과 컨테이너](https://library.gabia.com/contents/infrahosting/7426/)